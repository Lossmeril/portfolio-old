"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[548],{1548:function(a,b,c){c.r(b),c.d(b,{"default":function(){return j}});var d=c(5893),e=c(7294),f=c(9477),g=c(9365),h=c(1217),i=c(4497),j=function(){var a=(0,e.useRef)(),b=(0,e.useState)(!0),c=b[0],j=b[1],k=(0,e.useState)(),l=k[0],m=k[1],n=(0,e.useState)(),o=n[0],p=n[1],q=(0,e.useState)(new f.Pa4(0,.15,-0.5)),r=q[0],s=(0,e.useState)(new f.Pa4(20*Math.sin(.2*Math.PI),10,20*Math.cos(.2*Math.PI))),t=s[0],u=(0,e.useState)(new f.xsS()),v=u[0],w=(0,e.useState)(),x=w[0],y=w[1],z=(0,e.useCallback)(function(){var b=a.current;if(b&&l){var c=b.clientWidth,d=b.clientHeight;l.setSize(c,d)}},[l]);return(0,e.useEffect)(function(){var b=a.current;if(b&&!l){var c=b.clientWidth,d=b.clientHeight,e=new f.CP7({antialias:!0,alpha:!0});e.setPixelRatio(window.devicePixelRatio),e.setSize(c,d),e.outputEncoding=f.knz,b.appendChild(e.domElement),m(e);var i=1e-4*d+4.8,k=new f.iKG(-i,i,i,-i,.01,5e4);k.position.copy(t),k.lookAt(r),p(k);var n=new g.z(k,e.domElement);n.autoRotate=!0,n.target=r,y(n),(function(a,b){var c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:{receiveShadow:!0,castShadow:!0},d=c.receiveShadow,e=c.castShadow;return new Promise(function(c,f){new h.E().load(b,function(b){var f=b.scene;f.name="model",f.position.y=0,f.position.x=0,f.receiveShadow=d,f.castShadow=e,a.add(f),f.traverse(function(a){a.isMesh&&(a.castShadow=e,a.receiveShadow=d)}),c(f)},void 0,function(a){f(a)})})})(v,"/model.glb",{receiveShadow:!1,castShadow:!1}).then(function(){s(),j(!1)});var o=null,q=0,s=function(){if(o=requestAnimationFrame(s),(q=q<=100?q+1:q)<=100){var a=t,b=-Math.sqrt(1-Math.pow(q/120-1,4))*Math.PI*20;k.position.y=10,k.position.x=a.x*Math.cos(b)+a.z*Math.sin(b),k.position.z=a.z*Math.cos(b)-a.x*Math.sin(b),k.lookAt(r)}else n.update();e.render(v,k)};return function(){console.log("unmount"),cancelAnimationFrame(o),e.dispose()}}},[]),(0,e.useEffect)(function(){return window.addEventListener("resize",z,!1),function(){window.removeEventListener("resize",z,!1)}},[l,z]),(0,d.jsx)(i.dl,{refe:a,children:c&&(0,d.jsx)(i.xn,{})})}}}])
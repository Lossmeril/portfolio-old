"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[330],{9365:function(a,b,c){c.d(b,{z:function(){return h}});var d=c(9477);const e={type:"change"},f={type:"start"},g={type:"end"};class h extends d.pBf{constructor(i,j){super(),void 0===j&&console.warn("THREE.OrbitControls: The second parameter \"domElement\" is now mandatory."),j===document&&console.error("THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead."),this.object=i,this.domElement=j,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new d.Pa4(),this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:d.RsA.ROTATE,MIDDLE:d.RsA.DOLLY,RIGHT:d.RsA.PAN},this.touches={ONE:d.QmN.ROTATE,TWO:d.QmN.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return o.phi},this.getAzimuthalAngle=function(){return o.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(a){a.addEventListener("keydown",aa),this._domElementKeyEvents=a},this.saveState=function(){k.target0.copy(k.target),k.position0.copy(k.object.position),k.zoom0=k.object.zoom},this.reset=function(){k.target.copy(k.target0),k.object.position.copy(k.position0),k.object.zoom=k.zoom0,k.object.updateProjectionMatrix(),k.dispatchEvent(e),k.update(),m=l.NONE},this.update=(function(){const a=new d.Pa4(),b=new d._fP().setFromUnitVectors(i.up,new d.Pa4(0,1,0)),c=b.clone().invert(),f=new d.Pa4(),g=new d._fP(),h=2*Math.PI;return function(){const d=k.object.position;a.copy(d).sub(k.target),a.applyQuaternion(b),o.setFromVector3(a),k.autoRotate&&m===l.NONE&&G(E()),k.enableDamping?(o.theta+=p.theta*k.dampingFactor,o.phi+=p.phi*k.dampingFactor):(o.theta+=p.theta,o.phi+=p.phi);let i=k.minAzimuthAngle,j=k.maxAzimuthAngle;return isFinite(i)&&isFinite(j)&&(i< -Math.PI?i+=h:i>Math.PI&&(i-=h),j< -Math.PI?j+=h:j>Math.PI&&(j-=h),i<=j?o.theta=Math.max(i,Math.min(j,o.theta)):o.theta=o.theta>(i+j)/2?Math.max(i,o.theta):Math.min(j,o.theta)),o.phi=Math.max(k.minPolarAngle,Math.min(k.maxPolarAngle,o.phi)),o.makeSafe(),o.radius*=q,o.radius=Math.max(k.minDistance,Math.min(k.maxDistance,o.radius)),!0===k.enableDamping?k.target.addScaledVector(r,k.dampingFactor):k.target.add(r),a.setFromSpherical(o),a.applyQuaternion(c),d.copy(k.target).add(a),k.object.lookAt(k.target),!0===k.enableDamping?(p.theta*=1-k.dampingFactor,p.phi*=1-k.dampingFactor,r.multiplyScalar(1-k.dampingFactor)):(p.set(0,0,0),r.set(0,0,0)),q=1,!!(s||f.distanceToSquared(k.object.position)>n||8*(1-g.dot(k.object.quaternion))>n)&&(k.dispatchEvent(e),f.copy(k.object.position),g.copy(k.object.quaternion),s=!1,!0)}})(),this.dispose=function(){k.domElement.removeEventListener("contextmenu",da),k.domElement.removeEventListener("pointerdown",V),k.domElement.removeEventListener("pointercancel",Y),k.domElement.removeEventListener("wheel",_),k.domElement.removeEventListener("pointermove",W),k.domElement.removeEventListener("pointerup",X),null!==k._domElementKeyEvents&&k._domElementKeyEvents.removeEventListener("keydown",aa)};const k=this,l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let m=l.NONE;const n=1e-6,o=new d.$V(),p=new d.$V();let q=1;const r=new d.Pa4();let s=!1;const t=new d.FM8(),u=new d.FM8(),v=new d.FM8(),w=new d.FM8(),x=new d.FM8(),y=new d.FM8(),z=new d.FM8(),A=new d.FM8(),B=new d.FM8(),C=[],D={};function E(){return 2*Math.PI/60/60*k.autoRotateSpeed}function F(){return Math.pow(.95,k.zoomSpeed)}function G(a){p.theta-=a}function H(a){p.phi-=a}const I=function(){const a=new d.Pa4();return function(b,c){a.setFromMatrixColumn(c,0),a.multiplyScalar(-b),r.add(a)}}(),J=function(){const a=new d.Pa4();return function(b,c){!0===k.screenSpacePanning?a.setFromMatrixColumn(c,1):(a.setFromMatrixColumn(c,0),a.crossVectors(k.object.up,a)),a.multiplyScalar(b),r.add(a)}}(),K=function(){const a=new d.Pa4();return function(b,c){const d=k.domElement;if(k.object.isPerspectiveCamera){const e=k.object.position;a.copy(e).sub(k.target);let f=a.length();I(2*b*(f*=Math.tan(k.object.fov/2*Math.PI/180))/d.clientHeight,k.object.matrix),J(2*c*f/d.clientHeight,k.object.matrix)}else k.object.isOrthographicCamera?(I(b*(k.object.right-k.object.left)/k.object.zoom/d.clientWidth,k.object.matrix),J(c*(k.object.top-k.object.bottom)/k.object.zoom/d.clientHeight,k.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),k.enablePan=!1)}}();function L(a){k.object.isPerspectiveCamera?q/=a:k.object.isOrthographicCamera?(k.object.zoom=Math.max(k.minZoom,Math.min(k.maxZoom,k.object.zoom*a)),k.object.updateProjectionMatrix(),s=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),k.enableZoom=!1)}function M(a){k.object.isPerspectiveCamera?q*=a:k.object.isOrthographicCamera?(k.object.zoom=Math.max(k.minZoom,Math.min(k.maxZoom,k.object.zoom/a)),k.object.updateProjectionMatrix(),s=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),k.enableZoom=!1)}function N(a){t.set(a.clientX,a.clientY)}function O(a){w.set(a.clientX,a.clientY)}function P(){if(1===C.length)t.set(C[0].pageX,C[0].pageY);else{const a=.5*(C[0].pageX+C[1].pageX),b=.5*(C[0].pageY+C[1].pageY);t.set(a,b)}}function Q(){if(1===C.length)w.set(C[0].pageX,C[0].pageY);else{const a=.5*(C[0].pageX+C[1].pageX),b=.5*(C[0].pageY+C[1].pageY);w.set(a,b)}}function R(){const a=C[0].pageX-C[1].pageX,b=C[0].pageY-C[1].pageY;z.set(0,Math.sqrt(a*a+b*b))}function S(a){if(1==C.length)u.set(a.pageX,a.pageY);else{const b=ha(a),c=.5*(a.pageX+b.x),d=.5*(a.pageY+b.y);u.set(c,d)}v.subVectors(u,t).multiplyScalar(k.rotateSpeed);const e=k.domElement;G(2*Math.PI*v.x/e.clientHeight),H(2*Math.PI*v.y/e.clientHeight),t.copy(u)}function T(a){if(1===C.length)x.set(a.pageX,a.pageY);else{const b=ha(a),c=.5*(a.pageX+b.x),d=.5*(a.pageY+b.y);x.set(c,d)}y.subVectors(x,w).multiplyScalar(k.panSpeed),K(y.x,y.y),w.copy(x)}function U(a){const b=ha(a),c=a.pageX-b.x,d=a.pageY-b.y;A.set(0,Math.sqrt(c*c+d*d)),B.set(0,Math.pow(A.y/z.y,k.zoomSpeed)),L(B.y),z.copy(A)}function V(a){!1!==k.enabled&&(0===C.length&&(k.domElement.setPointerCapture(a.pointerId),k.domElement.addEventListener("pointermove",W),k.domElement.addEventListener("pointerup",X)),ea(a),"touch"===a.pointerType?ba(a):Z(a))}function W(a){!1!==k.enabled&&("touch"===a.pointerType?ca(a):$(a))}function X(a){fa(a),0===C.length&&(k.domElement.releasePointerCapture(a.pointerId),k.domElement.removeEventListener("pointermove",W),k.domElement.removeEventListener("pointerup",X)),k.dispatchEvent(g),m=l.NONE}function Y(a){fa(a)}function Z(a){let b;switch(a.button){case 0:b=k.mouseButtons.LEFT;break;case 1:b=k.mouseButtons.MIDDLE;break;case 2:b=k.mouseButtons.RIGHT;break;default:b=-1}switch(b){case d.RsA.DOLLY:var c;if(!1===k.enableZoom)return;c=a,z.set(c.clientX,c.clientY),m=l.DOLLY;break;case d.RsA.ROTATE:if(a.ctrlKey||a.metaKey||a.shiftKey){if(!1===k.enablePan)return;O(a),m=l.PAN}else{if(!1===k.enableRotate)return;N(a),m=l.ROTATE}break;case d.RsA.PAN:if(a.ctrlKey||a.metaKey||a.shiftKey){if(!1===k.enableRotate)return;N(a),m=l.ROTATE}else{if(!1===k.enablePan)return;O(a),m=l.PAN}break;default:m=l.NONE}m!==l.NONE&&k.dispatchEvent(f)}function $(a){var b,c;if(!1!==k.enabled)switch(m){case l.ROTATE:if(!1===k.enableRotate)return;!function(a){u.set(a.clientX,a.clientY),v.subVectors(u,t).multiplyScalar(k.rotateSpeed);const b=k.domElement;G(2*Math.PI*v.x/b.clientHeight),H(2*Math.PI*v.y/b.clientHeight),t.copy(u),k.update()}(a);break;case l.DOLLY:if(!1===k.enableZoom)return;b=a,A.set(b.clientX,b.clientY),B.subVectors(A,z),B.y>0?L(F()):B.y<0&&M(F()),z.copy(A),k.update();break;case l.PAN:if(!1===k.enablePan)return;c=a,x.set(c.clientX,c.clientY),y.subVectors(x,w).multiplyScalar(k.panSpeed),K(y.x,y.y),w.copy(x),k.update();break}}function _(a){if(!1!==k.enabled&& !1!==k.enableZoom&&m===l.NONE){var b;a.preventDefault(),k.dispatchEvent(f),(b=a).deltaY<0?M(F()):b.deltaY>0&&L(F()),k.update(),k.dispatchEvent(g)}}function aa(a){!1!==k.enabled&& !1!==k.enablePan&&(function(a){let b=!1;switch(a.code){case k.keys.UP:K(0,k.keyPanSpeed),b=!0;break;case k.keys.BOTTOM:K(0,-k.keyPanSpeed),b=!0;break;case k.keys.LEFT:K(k.keyPanSpeed,0),b=!0;break;case k.keys.RIGHT:K(-k.keyPanSpeed,0),b=!0;break}b&&(a.preventDefault(),k.update())})(a)}function ba(a){switch(ga(a),C.length){case 1:switch(k.touches.ONE){case d.QmN.ROTATE:if(!1===k.enableRotate)return;P(),m=l.TOUCH_ROTATE;break;case d.QmN.PAN:if(!1===k.enablePan)return;Q(),m=l.TOUCH_PAN;break;default:m=l.NONE}break;case 2:switch(k.touches.TWO){case d.QmN.DOLLY_PAN:if(!1===k.enableZoom&& !1===k.enablePan)return;k.enableZoom&&R(),k.enablePan&&Q(),m=l.TOUCH_DOLLY_PAN;break;case d.QmN.DOLLY_ROTATE:if(!1===k.enableZoom&& !1===k.enableRotate)return;k.enableZoom&&R(),k.enableRotate&&P(),m=l.TOUCH_DOLLY_ROTATE;break;default:m=l.NONE}break;default:m=l.NONE}m!==l.NONE&&k.dispatchEvent(f)}function ca(a){var b,c;switch(ga(a),m){case l.TOUCH_ROTATE:if(!1===k.enableRotate)return;S(a),k.update();break;case l.TOUCH_PAN:if(!1===k.enablePan)return;T(a),k.update();break;case l.TOUCH_DOLLY_PAN:if(!1===k.enableZoom&& !1===k.enablePan)return;b=a,k.enableZoom&&U(b),k.enablePan&&T(b),k.update();break;case l.TOUCH_DOLLY_ROTATE:if(!1===k.enableZoom&& !1===k.enableRotate)return;c=a,k.enableZoom&&U(c),k.enableRotate&&S(c),k.update();break;default:m=l.NONE}}function da(a){!1!==k.enabled&&a.preventDefault()}function ea(a){C.push(a)}function fa(a){delete D[a.pointerId];for(let b=0;b<C.length;b++)if(C[b].pointerId==a.pointerId){C.splice(b,1);return}}function ga(a){let b=D[a.pointerId];void 0===b&&(b=new d.FM8(),D[a.pointerId]=b),b.set(a.pageX,a.pageY)}function ha(a){const b=a.pointerId===C[0].pointerId?C[1]:C[0];return D[b.pointerId]}k.domElement.addEventListener("contextmenu",da),k.domElement.addEventListener("pointerdown",V),k.domElement.addEventListener("pointercancel",Y),k.domElement.addEventListener("wheel",_,{passive:!1}),this.update()}}},1217:function(a,b,c){c.d(b,{E:function(){return e}});var d=c(9477);class e extends d.aNw{constructor(f){super(f),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(a){return new ra(a)}),this.register(function(a){return new Fb(a)}),this.register(function(a){return new Ob(a)}),this.register(function(a){return new Da(a)}),this.register(function(a){return new Oa(a)}),this.register(function(a){return new Za(a)}),this.register(function(a){return new jb(a)}),this.register(function(a){return new tb(a)}),this.register(function(a){return new N(a)}),this.register(function(a){return new Zb(a)})}load(g,h,i,j){const k=this;let l;l=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:d.Zp0.extractUrlBase(g),this.manager.itemStart(g);const m=function(a){j?j(a):console.error(a),k.manager.itemError(g),k.manager.itemEnd(g)},n=new d.hH6(this.manager);n.setPath(this.path),n.setResponseType("arraybuffer"),n.setRequestHeader(this.requestHeader),n.setWithCredentials(this.withCredentials),n.load(g,function(a){try{k.parse(a,l,function(a){h(a),k.manager.itemEnd(g)},m)}catch(b){m(b)}},i,m)}setDRACOLoader(o){return this.dracoLoader=o,this}setDDSLoader(){throw new Error("THREE.GLTFLoader: \"MSFT_texture_dds\" no longer supported. Please update to \"KHR_texture_basisu\".")}setKTX2Loader(p){return this.ktx2Loader=p,this}setMeshoptDecoder(q){return this.meshoptDecoder=q,this}register(r){return -1===this.pluginCallbacks.indexOf(r)&&this.pluginCallbacks.push(r),this}unregister(s){return -1!==this.pluginCallbacks.indexOf(s)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(s),1),this}parse(t,u,v,w){let x;const y={},z={};if("string"==typeof t)x=t;else{const A=d.Zp0.decodeText(new Uint8Array(t,0,4));if(A===fc){try{y[M.KHR_BINARY_GLTF]=new hc(t)}catch(B){w&&w(B);return}x=y[M.KHR_BINARY_GLTF].content}else x=d.Zp0.decodeText(new Uint8Array(t))}const C=JSON.parse(x);if(void 0===C.asset||C.asset.version[0]<2){w&&w(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const D=new Gd(C,{path:u||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});D.fileLoader.setRequestHeader(this.requestHeader);for(let E=0;E<this.pluginCallbacks.length;E++){const F=this.pluginCallbacks[E](D);z[F.name]=F,y[F.name]=!0}if(C.extensionsUsed)for(let G=0;G<C.extensionsUsed.length;++G){const H=C.extensionsUsed[G],I=C.extensionsRequired||[];switch(H){case M.KHR_MATERIALS_UNLIT:y[H]=new ka();break;case M.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:y[H]=new Qc();break;case M.KHR_DRACO_MESH_COMPRESSION:y[H]=new rc(C,this.dracoLoader);break;case M.KHR_TEXTURE_TRANSFORM:y[H]=new Jc();break;case M.KHR_MESH_QUANTIZATION:y[H]=new $c();break;default:I.indexOf(H)>=0&& void 0===z[H]&&console.warn("THREE.GLTFLoader: Unknown extension \""+H+"\".")}}D.setExtensions(y),D.setPlugins(z),D.parse(v,w)}parseAsync(J,K){const L=this;return new Promise(function(a,b){L.parse(J,K,a,b)})}}const M={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class N{constructor(O){this.parser=O,this.name=M.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const P=this.parser,Q=this.parser.json.nodes||[];for(let R=0,S=Q.length;R<S;R++){const T=Q[R];T.extensions&&T.extensions[this.name]&& void 0!==T.extensions[this.name].light&&P._addNodeRef(this.cache,T.extensions[this.name].light)}}_loadLight(U){const V=this.parser,W="light:"+U;let X=V.cache.get(W);if(X)return X;const Y=V.json,Z=Y.extensions&&Y.extensions[this.name]||{},$=Z.lights||[],_=$[U];let aa;const ba=new d.Ilk(16777215);void 0!==_.color&&ba.fromArray(_.color);const ca=void 0!==_.range?_.range:0;switch(_.type){case"directional":(aa=new d.Ox3(ba)).target.position.set(0,0,-1),aa.add(aa.target);break;case"point":(aa=new d.cek(ba)).distance=ca;break;case"spot":(aa=new d.PMe(ba)).distance=ca,_.spot=_.spot||{},_.spot.innerConeAngle=void 0!==_.spot.innerConeAngle?_.spot.innerConeAngle:0,_.spot.outerConeAngle=void 0!==_.spot.outerConeAngle?_.spot.outerConeAngle:Math.PI/4,aa.angle=_.spot.outerConeAngle,aa.penumbra=1-_.spot.innerConeAngle/_.spot.outerConeAngle,aa.target.position.set(0,0,-1),aa.add(aa.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+_.type)}return aa.position.set(0,0,0),aa.decay=2,void 0!==_.intensity&&(aa.intensity=_.intensity),aa.name=V.createUniqueName(_.name||"light_"+U),X=Promise.resolve(aa),V.cache.add(W,X),X}createNodeAttachment(da){const ea=this,fa=this.parser,ga=fa.json,ha=ga.nodes[da],ia=ha.extensions&&ha.extensions[this.name]||{},ja=ia.light;return void 0===ja?null:this._loadLight(ja).then(function(a){return fa._getNodeRef(ea.cache,ja,a)})}}class ka{constructor(){this.name=M.KHR_MATERIALS_UNLIT}getMaterialType(){return d.vBJ}extendParams(la,ma,na){const oa=[];la.color=new d.Ilk(1,1,1),la.opacity=1;const pa=ma.pbrMetallicRoughness;if(pa){if(Array.isArray(pa.baseColorFactor)){const qa=pa.baseColorFactor;la.color.fromArray(qa),la.opacity=qa[3]}void 0!==pa.baseColorTexture&&oa.push(na.assignTexture(la,"map",pa.baseColorTexture))}return Promise.all(oa)}}class ra{constructor(sa){this.parser=sa,this.name=M.KHR_MATERIALS_CLEARCOAT}getMaterialType(ta){const ua=this.parser,va=ua.json.materials[ta];return va.extensions&&va.extensions[this.name]?d.EJi:null}extendMaterialParams(wa,xa){const ya=this.parser,za=ya.json.materials[wa];if(!za.extensions||!za.extensions[this.name])return Promise.resolve();const Aa=[],Ba=za.extensions[this.name];if(void 0!==Ba.clearcoatFactor&&(xa.clearcoat=Ba.clearcoatFactor),void 0!==Ba.clearcoatTexture&&Aa.push(ya.assignTexture(xa,"clearcoatMap",Ba.clearcoatTexture)),void 0!==Ba.clearcoatRoughnessFactor&&(xa.clearcoatRoughness=Ba.clearcoatRoughnessFactor),void 0!==Ba.clearcoatRoughnessTexture&&Aa.push(ya.assignTexture(xa,"clearcoatRoughnessMap",Ba.clearcoatRoughnessTexture)),void 0!==Ba.clearcoatNormalTexture&&(Aa.push(ya.assignTexture(xa,"clearcoatNormalMap",Ba.clearcoatNormalTexture)),void 0!==Ba.clearcoatNormalTexture.scale)){const Ca=Ba.clearcoatNormalTexture.scale;xa.clearcoatNormalScale=new d.FM8(Ca,Ca)}return Promise.all(Aa)}}class Da{constructor(Ea){this.parser=Ea,this.name=M.KHR_MATERIALS_SHEEN}getMaterialType(Fa){const Ga=this.parser,Ha=Ga.json.materials[Fa];return Ha.extensions&&Ha.extensions[this.name]?d.EJi:null}extendMaterialParams(Ia,Ja){const Ka=this.parser,La=Ka.json.materials[Ia];if(!La.extensions||!La.extensions[this.name])return Promise.resolve();const Ma=[];Ja.sheenColor=new d.Ilk(0,0,0),Ja.sheenRoughness=0,Ja.sheen=1;const Na=La.extensions[this.name];return void 0!==Na.sheenColorFactor&&Ja.sheenColor.fromArray(Na.sheenColorFactor),void 0!==Na.sheenRoughnessFactor&&(Ja.sheenRoughness=Na.sheenRoughnessFactor),void 0!==Na.sheenColorTexture&&Ma.push(Ka.assignTexture(Ja,"sheenColorMap",Na.sheenColorTexture)),void 0!==Na.sheenRoughnessTexture&&Ma.push(Ka.assignTexture(Ja,"sheenRoughnessMap",Na.sheenRoughnessTexture)),Promise.all(Ma)}}class Oa{constructor(Pa){this.parser=Pa,this.name=M.KHR_MATERIALS_TRANSMISSION}getMaterialType(Qa){const Ra=this.parser,Sa=Ra.json.materials[Qa];return Sa.extensions&&Sa.extensions[this.name]?d.EJi:null}extendMaterialParams(Ta,Ua){const Va=this.parser,Wa=Va.json.materials[Ta];if(!Wa.extensions||!Wa.extensions[this.name])return Promise.resolve();const Xa=[],Ya=Wa.extensions[this.name];return void 0!==Ya.transmissionFactor&&(Ua.transmission=Ya.transmissionFactor),void 0!==Ya.transmissionTexture&&Xa.push(Va.assignTexture(Ua,"transmissionMap",Ya.transmissionTexture)),Promise.all(Xa)}}class Za{constructor($a){this.parser=$a,this.name=M.KHR_MATERIALS_VOLUME}getMaterialType(_a){const ab=this.parser,bb=ab.json.materials[_a];return bb.extensions&&bb.extensions[this.name]?d.EJi:null}extendMaterialParams(cb,db){const eb=this.parser,fb=eb.json.materials[cb];if(!fb.extensions||!fb.extensions[this.name])return Promise.resolve();const gb=[],hb=fb.extensions[this.name];db.thickness=void 0!==hb.thicknessFactor?hb.thicknessFactor:0,void 0!==hb.thicknessTexture&&gb.push(eb.assignTexture(db,"thicknessMap",hb.thicknessTexture)),db.attenuationDistance=hb.attenuationDistance||0;const ib=hb.attenuationColor||[1,1,1];return db.attenuationColor=new d.Ilk(ib[0],ib[1],ib[2]),Promise.all(gb)}}class jb{constructor(kb){this.parser=kb,this.name=M.KHR_MATERIALS_IOR}getMaterialType(lb){const mb=this.parser,nb=mb.json.materials[lb];return nb.extensions&&nb.extensions[this.name]?d.EJi:null}extendMaterialParams(ob,pb){const qb=this.parser,rb=qb.json.materials[ob];if(!rb.extensions||!rb.extensions[this.name])return Promise.resolve();const sb=rb.extensions[this.name];return pb.ior=void 0!==sb.ior?sb.ior:1.5,Promise.resolve()}}class tb{constructor(ub){this.parser=ub,this.name=M.KHR_MATERIALS_SPECULAR}getMaterialType(vb){const wb=this.parser,xb=wb.json.materials[vb];return xb.extensions&&xb.extensions[this.name]?d.EJi:null}extendMaterialParams(yb,zb){const Ab=this.parser,Bb=Ab.json.materials[yb];if(!Bb.extensions||!Bb.extensions[this.name])return Promise.resolve();const Cb=[],Db=Bb.extensions[this.name];zb.specularIntensity=void 0!==Db.specularFactor?Db.specularFactor:1,void 0!==Db.specularTexture&&Cb.push(Ab.assignTexture(zb,"specularIntensityMap",Db.specularTexture));const Eb=Db.specularColorFactor||[1,1,1];return zb.specularColor=new d.Ilk(Eb[0],Eb[1],Eb[2]),void 0!==Db.specularColorTexture&&Cb.push(Ab.assignTexture(zb,"specularColorMap",Db.specularColorTexture).then(function(a){a.encoding=d.knz})),Promise.all(Cb)}}class Fb{constructor(Gb){this.parser=Gb,this.name=M.KHR_TEXTURE_BASISU}loadTexture(Hb){const Ib=this.parser,Jb=Ib.json,Kb=Jb.textures[Hb];if(!Kb.extensions||!Kb.extensions[this.name])return null;const Lb=Kb.extensions[this.name],Mb=Jb.images[Lb.source],Nb=Ib.options.ktx2Loader;if(!Nb){if(!(Jb.extensionsRequired&&Jb.extensionsRequired.indexOf(this.name)>=0))return null;throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures")}return Ib.loadTextureImage(Hb,Mb,Nb)}}class Ob{constructor(Pb){this.parser=Pb,this.name=M.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(Qb){const Rb=this.name,Sb=this.parser,Tb=Sb.json,Ub=Tb.textures[Qb];if(!Ub.extensions||!Ub.extensions[Rb])return null;const Vb=Ub.extensions[Rb],Wb=Tb.images[Vb.source];let Xb=Sb.textureLoader;if(Wb.uri){const Yb=Sb.options.manager.getHandler(Wb.uri);null!==Yb&&(Xb=Yb)}return this.detectSupport().then(function(a){if(a)return Sb.loadTextureImage(Qb,Wb,Xb);if(Tb.extensionsRequired&&Tb.extensionsRequired.indexOf(Rb)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return Sb.loadTexture(Qb)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(a){const b=new Image();b.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",b.onload=b.onerror=function(){a(1===b.height)}})),this.isSupported}}class Zb{constructor($b){this.name=M.EXT_MESHOPT_COMPRESSION,this.parser=$b}loadBufferView(_b){const ac=this.parser.json,bc=ac.bufferViews[_b];if(!bc.extensions||!bc.extensions[this.name])return null;{const cc=bc.extensions[this.name],dc=this.parser.getDependency("buffer",cc.buffer),ec=this.parser.options.meshoptDecoder;if(!ec||!ec.supported){if(!(ac.extensionsRequired&&ac.extensionsRequired.indexOf(this.name)>=0))return null;throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files")}return Promise.all([dc,ec.ready]).then(function(a){const b=cc.byteOffset||0,c=cc.byteLength||0,d=cc.count,e=cc.byteStride,f=new ArrayBuffer(d*e),g=new Uint8Array(a[0],b,c);return ec.decodeGltfBuffer(new Uint8Array(f),d,e,g,cc.mode,cc.filter),f})}}}const fc="glTF",gc=12;class hc{constructor(ic){this.name=M.KHR_BINARY_GLTF,this.content=null,this.body=null;const jc=new DataView(ic,0,gc);if(this.header={magic:d.Zp0.decodeText(new Uint8Array(ic.slice(0,4))),version:jc.getUint32(4,!0),length:jc.getUint32(8,!0)},this.header.magic!==fc)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const kc=this.header.length-gc,lc=new DataView(ic,gc);let mc=0;for(;mc<kc;){const nc=lc.getUint32(mc,!0);mc+=4;const oc=lc.getUint32(mc,!0);if(mc+=4,1313821514===oc){const pc=new Uint8Array(ic,gc+mc,nc);this.content=d.Zp0.decodeText(pc)}else if(5130562===oc){const qc=gc+mc;this.body=ic.slice(qc,qc+nc)}mc+=nc}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class rc{constructor(sc,tc){if(!tc)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=M.KHR_DRACO_MESH_COMPRESSION,this.json=sc,this.dracoLoader=tc,this.dracoLoader.preload()}decodePrimitive(uc,vc){const wc=this.json,xc=this.dracoLoader,yc=uc.extensions[this.name].bufferView,zc=uc.extensions[this.name].attributes,Ac={},Bc={},Cc={};for(const Dc in zc){const Ec=vd[Dc]||Dc.toLowerCase();Ac[Ec]=zc[Dc]}for(const Fc in uc.attributes){const Gc=vd[Fc]||Fc.toLowerCase();if(void 0!==zc[Fc]){const Hc=wc.accessors[uc.attributes[Fc]],Ic=rd[Hc.componentType];Cc[Gc]=Ic,Bc[Gc]=!0===Hc.normalized}}return vc.getDependency("bufferView",yc).then(function(a){return new Promise(function(b){xc.decodeDracoFile(a,function(a){for(const c in a.attributes){const d=a.attributes[c],e=Bc[c];void 0!==e&&(d.normalized=e)}b(a)},Ac,Cc)})})}}class Jc{constructor(){this.name=M.KHR_TEXTURE_TRANSFORM}extendTexture(Kc,Lc){return void 0!==Lc.texCoord&&console.warn("THREE.GLTFLoader: Custom UV sets in \""+this.name+"\" extension not yet supported."),void 0===Lc.offset&& void 0===Lc.rotation&& void 0===Lc.scale||(Kc=Kc.clone(),void 0!==Lc.offset&&Kc.offset.fromArray(Lc.offset),void 0!==Lc.rotation&&(Kc.rotation=Lc.rotation),void 0!==Lc.scale&&Kc.repeat.fromArray(Lc.scale),Kc.needsUpdate=!0),Kc}}class Mc extends d.Wid{constructor(Nc){super(),this.isGLTFSpecularGlossinessMaterial=!0;const Oc={specular:{value:new d.Ilk().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=Oc,this.onBeforeCompile=function(a){for(const b in Oc)a.uniforms[b]=Oc[b];a.fragmentShader=a.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>","#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif").replace("#include <metalnessmap_pars_fragment>","#ifdef USE_GLOSSINESSMAP\n\tuniform sampler2D glossinessMap;\n#endif").replace("#include <roughnessmap_fragment>","vec3 specularFactor = specular;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture\n\tspecularFactor *= texelSpecular.rgb;\n#endif").replace("#include <metalnessmap_fragment>","float glossinessFactor = glossiness;\n#ifdef USE_GLOSSINESSMAP\n\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );\n\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture\n\tglossinessFactor *= texelGlossiness.a;\n#endif").replace("#include <lights_physical_fragment>","PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.\nmaterial.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\nmaterial.specularColor = specularFactor;")},Object.defineProperties(this,{specular:{get:function(){return Oc.specular.value},set:function(a){Oc.specular.value=a}},specularMap:{get:function(){return Oc.specularMap.value},set:function(a){Oc.specularMap.value=a,a?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return Oc.glossiness.value},set:function(a){Oc.glossiness.value=a}},glossinessMap:{get:function(){return Oc.glossinessMap.value},set:function(a){Oc.glossinessMap.value=a,a?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(Nc)}copy(Pc){return super.copy(Pc),this.specularMap=Pc.specularMap,this.specular.copy(Pc.specular),this.glossinessMap=Pc.glossinessMap,this.glossiness=Pc.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class Qc{constructor(){this.name=M.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio",]}getMaterialType(){return Mc}extendParams(Rc,Sc,Tc){const Uc=Sc.extensions[this.name];Rc.color=new d.Ilk(1,1,1),Rc.opacity=1;const Vc=[];if(Array.isArray(Uc.diffuseFactor)){const Wc=Uc.diffuseFactor;Rc.color.fromArray(Wc),Rc.opacity=Wc[3]}if(void 0!==Uc.diffuseTexture&&Vc.push(Tc.assignTexture(Rc,"map",Uc.diffuseTexture)),Rc.emissive=new d.Ilk(0,0,0),Rc.glossiness=void 0!==Uc.glossinessFactor?Uc.glossinessFactor:1,Rc.specular=new d.Ilk(1,1,1),Array.isArray(Uc.specularFactor)&&Rc.specular.fromArray(Uc.specularFactor),void 0!==Uc.specularGlossinessTexture){const Xc=Uc.specularGlossinessTexture;Vc.push(Tc.assignTexture(Rc,"glossinessMap",Xc)),Vc.push(Tc.assignTexture(Rc,"specularMap",Xc))}return Promise.all(Vc)}createMaterial(Yc){const Zc=new Mc(Yc);return Zc.fog=!0,Zc.color=Yc.color,Zc.map=void 0===Yc.map?null:Yc.map,Zc.lightMap=null,Zc.lightMapIntensity=1,Zc.aoMap=void 0===Yc.aoMap?null:Yc.aoMap,Zc.aoMapIntensity=1,Zc.emissive=Yc.emissive,Zc.emissiveIntensity=1,Zc.emissiveMap=void 0===Yc.emissiveMap?null:Yc.emissiveMap,Zc.bumpMap=void 0===Yc.bumpMap?null:Yc.bumpMap,Zc.bumpScale=1,Zc.normalMap=void 0===Yc.normalMap?null:Yc.normalMap,Zc.normalMapType=d.IOt,Yc.normalScale&&(Zc.normalScale=Yc.normalScale),Zc.displacementMap=null,Zc.displacementScale=1,Zc.displacementBias=0,Zc.specularMap=void 0===Yc.specularMap?null:Yc.specularMap,Zc.specular=Yc.specular,Zc.glossinessMap=void 0===Yc.glossinessMap?null:Yc.glossinessMap,Zc.glossiness=Yc.glossiness,Zc.alphaMap=null,Zc.envMap=void 0===Yc.envMap?null:Yc.envMap,Zc.envMapIntensity=1,Zc.refractionRatio=.98,Zc}}class $c{constructor(){this.name=M.KHR_MESH_QUANTIZATION}}class _c extends d._C8{constructor(ad,bd,cd,dd){super(ad,bd,cd,dd)}copySampleValue_(ed){const fd=this.resultBuffer,gd=this.sampleValues,hd=this.valueSize,id=ed*hd*3+hd;for(let jd=0;jd!==hd;jd++)fd[jd]=gd[id+jd];return fd}}_c.prototype.beforeStart_=_c.prototype.copySampleValue_,_c.prototype.afterEnd_=_c.prototype.copySampleValue_,_c.prototype.interpolate_=function(a,b,c,d){const e=this.resultBuffer,f=this.sampleValues,g=this.valueSize,h=2*g,i=3*g,j=d-b,k=(c-b)/j,l=k*k,m=l*k,n=a*i,o=n-i,p=-2*m+3*l,q=m-l,r=1-p,s=q-l+k;for(let t=0;t!==g;t++){const u=f[o+t+g],v=f[o+t+h]*j,w=f[n+t+g],x=f[n+t]*j;e[t]=r*u+s*v+p*w+q*x}return e};const kd=new d._fP();class ld extends _c{interpolate_(md,nd,od,pd){const qd=super.interpolate_(md,nd,od,pd);return kd.fromArray(qd).normalize().toArray(qd),qd}}const rd={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},sd={9728:d.TyD,9729:d.wem,9984:d.YLQ,9985:d.qyh,9986:d.aH4,9987:d.D1R},td={33071:d.uWy,33648:d.OoA,10497:d.rpg},ud={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},vd={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},wd={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},xd={CUBICSPLINE:void 0,LINEAR:d.NMF,STEP:d.Syv},yd={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function zd(a){return void 0===a.DefaultMaterial&&(a.DefaultMaterial=new d.Wid({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:d.Wl3})),a.DefaultMaterial}function Ad(a,b,c){for(const d in c.extensions)void 0===a[d]&&(b.userData.gltfExtensions=b.userData.gltfExtensions||{},b.userData.gltfExtensions[d]=c.extensions[d])}function Bd(a,b){void 0!==b.extras&&("object"==typeof b.extras?Object.assign(a.userData,b.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+b.extras))}function Cd(a,b){if(a.updateMorphTargets(),void 0!==b.weights)for(let c=0,d=b.weights.length;c<d;c++)a.morphTargetInfluences[c]=b.weights[c];if(b.extras&&Array.isArray(b.extras.targetNames)){const e=b.extras.targetNames;if(a.morphTargetInfluences.length===e.length){a.morphTargetDictionary={};for(let f=0,g=e.length;f<g;f++)a.morphTargetDictionary[e[f]]=f}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Dd(a){const b=a.extensions&&a.extensions[M.KHR_DRACO_MESH_COMPRESSION];return b?"draco:"+b.bufferView+":"+b.indices+":"+Ed(b.attributes):a.indices+":"+Ed(a.attributes)+":"+a.mode}function Ed(a){let b="";const c=Object.keys(a).sort();for(let d=0,e=c.length;d<e;d++)b+=c[d]+":"+a[c[d]]+";";return b}function Fd(a){switch(a){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}class Gd{constructor(Hd={},Id={}){this.json=Hd,this.extensions={},this.plugins={},this.options=Id,this.cache=new function(){let a={};return{get:function(b){return a[b]},add:function(b,c){a[b]=c},remove:function(b){delete a[b]},removeAll:function(){a={}}}}(),this.associations=new Map(),this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.textureCache={},this.nodeNamesUsed={},"undefined"!=typeof createImageBitmap&& !1===/Firefox|^((?!chrome|android).)*safari/i.test(navigator.userAgent)?this.textureLoader=new d.QRU(this.options.manager):this.textureLoader=new d.dpR(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new d.hH6(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(Jd){this.extensions=Jd}setPlugins(Kd){this.plugins=Kd}parse(Ld,Md){const Nd=this,Od=this.json,Pd=this.extensions;this.cache.removeAll(),this._invokeAll(function(a){return a._markDefs&&a._markDefs()}),Promise.all(this._invokeAll(function(a){return a.beforeRoot&&a.beforeRoot()})).then(function(){return Promise.all([Nd.getDependencies("scene"),Nd.getDependencies("animation"),Nd.getDependencies("camera"),])}).then(function(a){const b={scene:a[0][Od.scene||0],scenes:a[0],animations:a[1],cameras:a[2],asset:Od.asset,parser:Nd,userData:{}};Ad(Pd,b,Od),Bd(b,Od),Promise.all(Nd._invokeAll(function(a){return a.afterRoot&&a.afterRoot(b)})).then(function(){Ld(b)})}).catch(Md)}_markDefs(){const Qd=this.json.nodes||[],Rd=this.json.skins||[],Sd=this.json.meshes||[];for(let Td=0,Ud=Rd.length;Td<Ud;Td++){const Vd=Rd[Td].joints;for(let Wd=0,Xd=Vd.length;Wd<Xd;Wd++)Qd[Vd[Wd]].isBone=!0}for(let Yd=0,Zd=Qd.length;Yd<Zd;Yd++){const $d=Qd[Yd];void 0!==$d.mesh&&(this._addNodeRef(this.meshCache,$d.mesh),void 0!==$d.skin&&(Sd[$d.mesh].isSkinnedMesh=!0)),void 0!==$d.camera&&this._addNodeRef(this.cameraCache,$d.camera)}}_addNodeRef(_d,ae){void 0!==ae&&(void 0===_d.refs[ae]&&(_d.refs[ae]=_d.uses[ae]=0),_d.refs[ae]++)}_getNodeRef(be,ce,de){if(be.refs[ce]<=1)return de;const ee=de.clone(),fe=(a,b)=>{const c=this.associations.get(a);for(const[d,e]of(null!=c&&this.associations.set(b,c),a.children.entries()))fe(e,b.children[d])};return fe(de,ee),ee.name+="_instance_"+be.uses[ce]++,ee}_invokeOne(ge){const he=Object.values(this.plugins);he.push(this);for(let ie=0;ie<he.length;ie++){const je=ge(he[ie]);if(je)return je}return null}_invokeAll(ke){const le=Object.values(this.plugins);le.unshift(this);const me=[];for(let ne=0;ne<le.length;ne++){const oe=ke(le[ne]);oe&&me.push(oe)}return me}getDependency(pe,qe){const re=pe+":"+qe;let se=this.cache.get(re);if(!se){switch(pe){case"scene":se=this.loadScene(qe);break;case"node":se=this.loadNode(qe);break;case"mesh":se=this._invokeOne(function(a){return a.loadMesh&&a.loadMesh(qe)});break;case"accessor":se=this.loadAccessor(qe);break;case"bufferView":se=this._invokeOne(function(a){return a.loadBufferView&&a.loadBufferView(qe)});break;case"buffer":se=this.loadBuffer(qe);break;case"material":se=this._invokeOne(function(a){return a.loadMaterial&&a.loadMaterial(qe)});break;case"texture":se=this._invokeOne(function(a){return a.loadTexture&&a.loadTexture(qe)});break;case"skin":se=this.loadSkin(qe);break;case"animation":se=this.loadAnimation(qe);break;case"camera":se=this.loadCamera(qe);break;default:throw new Error("Unknown type: "+pe)}this.cache.add(re,se)}return se}getDependencies(te){let ue=this.cache.get(te);if(!ue){const ve=this,we=this.json[te+("mesh"===te?"es":"s")]||[];ue=Promise.all(we.map(function(a,b){return ve.getDependency(te,b)})),this.cache.add(te,ue)}return ue}loadBuffer(xe){const ye=this.json.buffers[xe],ze=this.fileLoader;if(ye.type&&"arraybuffer"!==ye.type)throw new Error("THREE.GLTFLoader: "+ye.type+" buffer type is not supported.");if(void 0===ye.uri&&0===xe)return Promise.resolve(this.extensions[M.KHR_BINARY_GLTF].body);const Ae=this.options;return new Promise(function(a,b){ze.load(d.Zp0.resolveURL(ye.uri,Ae.path),a,void 0,function(){b(new Error("THREE.GLTFLoader: Failed to load buffer \""+ye.uri+"\"."))})})}loadBufferView(Be){const Ce=this.json.bufferViews[Be];return this.getDependency("buffer",Ce.buffer).then(function(a){const b=Ce.byteLength||0,c=Ce.byteOffset||0;return a.slice(c,c+b)})}loadAccessor(De){const Ee=this,Fe=this.json,Ge=this.json.accessors[De];if(void 0===Ge.bufferView&& void 0===Ge.sparse)return Promise.resolve(null);const He=[];return void 0!==Ge.bufferView?He.push(this.getDependency("bufferView",Ge.bufferView)):He.push(null),void 0!==Ge.sparse&&(He.push(this.getDependency("bufferView",Ge.sparse.indices.bufferView)),He.push(this.getDependency("bufferView",Ge.sparse.values.bufferView))),Promise.all(He).then(function(a){const b=a[0],c=ud[Ge.type],e=rd[Ge.componentType],f=e.BYTES_PER_ELEMENT,g=Ge.byteOffset||0,h=void 0!==Ge.bufferView?Fe.bufferViews[Ge.bufferView].byteStride:void 0,i=!0===Ge.normalized;let j,k;if(h&&h!==f*c){const l=Math.floor(g/h),m="InterleavedBuffer:"+Ge.bufferView+":"+Ge.componentType+":"+l+":"+Ge.count;let n=Ee.cache.get(m);n||(j=new e(b,l*h,Ge.count*h/f),n=new d.vpT(j,h/f),Ee.cache.add(m,n)),k=new d.kB5(n,c,g%h/f,i)}else j=null===b?new e(Ge.count*c):new e(b,g,Ge.count*c),k=new d.TlE(j,c,i);if(void 0!==Ge.sparse){const o=ud.SCALAR,p=rd[Ge.sparse.indices.componentType],q=Ge.sparse.indices.byteOffset||0,r=Ge.sparse.values.byteOffset||0,s=new p(a[1],q,Ge.sparse.count*o),t=new e(a[2],r,Ge.sparse.count*c);null!==b&&(k=new d.TlE(k.array.slice(),k.itemSize,k.normalized));for(let u=0,v=s.length;u<v;u++){const w=s[u];if(k.setX(w,t[u*c]),c>=2&&k.setY(w,t[u*c+1]),c>=3&&k.setZ(w,t[u*c+2]),c>=4&&k.setW(w,t[u*c+3]),c>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return k})}loadTexture(Ie){const Je=this.json,Ke=this.options,Le=Je.textures[Ie],Me=Je.images[Le.source];let Ne=this.textureLoader;if(Me.uri){const Oe=Ke.manager.getHandler(Me.uri);null!==Oe&&(Ne=Oe)}return this.loadTextureImage(Ie,Me,Ne)}loadTextureImage(Pe,Qe,Re){const Se=this,Te=this.json,Ue=this.options,Ve=Te.textures[Pe],We=(Qe.uri||Qe.bufferView)+":"+Ve.sampler;if(this.textureCache[We])return this.textureCache[We];const Xe=self.URL||self.webkitURL;let Ye=Qe.uri||"",Ze=!1;if(void 0!==Qe.bufferView)Ye=Se.getDependency("bufferView",Qe.bufferView).then(function(a){Ze=!0;const b=new Blob([a],{type:Qe.mimeType});return Ye=Xe.createObjectURL(b)});else if(void 0===Qe.uri)throw new Error("THREE.GLTFLoader: Image "+Pe+" is missing URI and bufferView");const $e=Promise.resolve(Ye).then(function(a){return new Promise(function(b,c){let e=b;!0===Re.isImageBitmapLoader&&(e=function(a){const c=new d.xEZ(a);c.needsUpdate=!0,b(c)}),Re.load(d.Zp0.resolveURL(a,Ue.path),e,void 0,c)})}).then(function(a){!0===Ze&&Xe.revokeObjectURL(Ye),a.flipY=!1,Ve.name&&(a.name=Ve.name);const b=Te.samplers||{},c=b[Ve.sampler]||{};return a.magFilter=sd[c.magFilter]||d.wem,a.minFilter=sd[c.minFilter]||d.D1R,a.wrapS=td[c.wrapS]||d.rpg,a.wrapT=td[c.wrapT]||d.rpg,Se.associations.set(a,{textures:Pe}),a}).catch(function(){return console.error("THREE.GLTFLoader: Couldn't load texture",Ye),null});return this.textureCache[We]=$e,$e}assignTexture(_e,af,bf){const cf=this;return this.getDependency("texture",bf.index).then(function(a){if(void 0===bf.texCoord||0==bf.texCoord||"aoMap"===af&&1==bf.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+bf.texCoord+" for texture "+af+" not yet supported."),cf.extensions[M.KHR_TEXTURE_TRANSFORM]){const b=void 0!==bf.extensions?bf.extensions[M.KHR_TEXTURE_TRANSFORM]:void 0;if(b){const c=cf.associations.get(a);a=cf.extensions[M.KHR_TEXTURE_TRANSFORM].extendTexture(a,b),cf.associations.set(a,c)}}return _e[af]=a,a})}assignFinalMaterial(df){const ef=df.geometry;let ff=df.material;const gf=void 0===ef.attributes.tangent,hf=void 0!==ef.attributes.color,jf=void 0===ef.attributes.normal;if(df.isPoints){const kf="PointsMaterial:"+ff.uuid;let lf=this.cache.get(kf);lf||(lf=new d.UY4(),d.F5T.prototype.copy.call(lf,ff),lf.color.copy(ff.color),lf.map=ff.map,lf.sizeAttenuation=!1,this.cache.add(kf,lf)),ff=lf}else if(df.isLine){const mf="LineBasicMaterial:"+ff.uuid;let nf=this.cache.get(mf);nf||(nf=new d.nls(),d.F5T.prototype.copy.call(nf,ff),nf.color.copy(ff.color),this.cache.add(mf,nf)),ff=nf}if(gf||hf||jf){let of="ClonedMaterial:"+ff.uuid+":";ff.isGLTFSpecularGlossinessMaterial&&(of+="specular-glossiness:"),gf&&(of+="derivative-tangents:"),hf&&(of+="vertex-colors:"),jf&&(of+="flat-shading:");let pf=this.cache.get(of);pf||(pf=ff.clone(),hf&&(pf.vertexColors=!0),jf&&(pf.flatShading=!0),gf&&(pf.normalScale&&(pf.normalScale.y*=-1),pf.clearcoatNormalScale&&(pf.clearcoatNormalScale.y*=-1)),this.cache.add(of,pf),this.associations.set(pf,this.associations.get(ff))),ff=pf}ff.aoMap&& void 0===ef.attributes.uv2&& void 0!==ef.attributes.uv&&ef.setAttribute("uv2",ef.attributes.uv),df.material=ff}getMaterialType(){return d.Wid}loadMaterial(qf){const rf=this,sf=this.json,tf=this.extensions,uf=sf.materials[qf];let vf;const wf={},xf=uf.extensions||{},yf=[];if(xf[M.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const zf=tf[M.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];vf=zf.getMaterialType(),yf.push(zf.extendParams(wf,uf,rf))}else if(xf[M.KHR_MATERIALS_UNLIT]){const Af=tf[M.KHR_MATERIALS_UNLIT];vf=Af.getMaterialType(),yf.push(Af.extendParams(wf,uf,rf))}else{const Bf=uf.pbrMetallicRoughness||{};if(wf.color=new d.Ilk(1,1,1),wf.opacity=1,Array.isArray(Bf.baseColorFactor)){const Cf=Bf.baseColorFactor;wf.color.fromArray(Cf),wf.opacity=Cf[3]}void 0!==Bf.baseColorTexture&&yf.push(rf.assignTexture(wf,"map",Bf.baseColorTexture)),wf.metalness=void 0!==Bf.metallicFactor?Bf.metallicFactor:1,wf.roughness=void 0!==Bf.roughnessFactor?Bf.roughnessFactor:1,void 0!==Bf.metallicRoughnessTexture&&(yf.push(rf.assignTexture(wf,"metalnessMap",Bf.metallicRoughnessTexture)),yf.push(rf.assignTexture(wf,"roughnessMap",Bf.metallicRoughnessTexture))),vf=this._invokeOne(function(a){return a.getMaterialType&&a.getMaterialType(qf)}),yf.push(Promise.all(this._invokeAll(function(a){return a.extendMaterialParams&&a.extendMaterialParams(qf,wf)})))}!0===uf.doubleSided&&(wf.side=d.ehD);const Df=uf.alphaMode||yd.OPAQUE;if(Df===yd.BLEND?(wf.transparent=!0,wf.depthWrite=!1):(wf.transparent=!1,Df===yd.MASK&&(wf.alphaTest=void 0!==uf.alphaCutoff?uf.alphaCutoff:.5)),void 0!==uf.normalTexture&&vf!==d.vBJ&&(yf.push(rf.assignTexture(wf,"normalMap",uf.normalTexture)),wf.normalScale=new d.FM8(1,1),void 0!==uf.normalTexture.scale)){const Ef=uf.normalTexture.scale;wf.normalScale.set(Ef,Ef)}return void 0!==uf.occlusionTexture&&vf!==d.vBJ&&(yf.push(rf.assignTexture(wf,"aoMap",uf.occlusionTexture)),void 0!==uf.occlusionTexture.strength&&(wf.aoMapIntensity=uf.occlusionTexture.strength)),void 0!==uf.emissiveFactor&&vf!==d.vBJ&&(wf.emissive=new d.Ilk().fromArray(uf.emissiveFactor)),void 0!==uf.emissiveTexture&&vf!==d.vBJ&&yf.push(rf.assignTexture(wf,"emissiveMap",uf.emissiveTexture)),Promise.all(yf).then(function(){let a;return a=vf===Mc?tf[M.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(wf):new vf(wf),uf.name&&(a.name=uf.name),a.map&&(a.map.encoding=d.knz),a.emissiveMap&&(a.emissiveMap.encoding=d.knz),Bd(a,uf),rf.associations.set(a,{materials:qf}),uf.extensions&&Ad(tf,a,uf),a})}createUniqueName(Ff){const Gf=d.iUV.sanitizeNodeName(Ff||"");let Hf=Gf;for(let If=1;this.nodeNamesUsed[Hf];++If)Hf=Gf+"_"+If;return this.nodeNamesUsed[Hf]=!0,Hf}loadGeometries(Jf){const Kf=this,Lf=this.extensions,Mf=this.primitiveCache;function Nf(a){return Lf[M.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,Kf).then(function(b){return Vg(b,a,Kf)})}const Of=[];for(let Pf=0,Qf=Jf.length;Pf<Qf;Pf++){const Rf=Jf[Pf],Sf=Dd(Rf),Tf=Mf[Sf];if(Tf)Of.push(Tf.promise);else{let Uf;Uf=Rf.extensions&&Rf.extensions[M.KHR_DRACO_MESH_COMPRESSION]?Nf(Rf):Vg(new d.u9r(),Rf,Kf),Mf[Sf]={primitive:Rf,promise:Uf},Of.push(Uf)}}return Promise.all(Of)}loadMesh(Vf){const Wf=this,Xf=this.json,Yf=this.extensions,Zf=Xf.meshes[Vf],$f=Zf.primitives,_f=[];for(let ag=0,bg=$f.length;ag<bg;ag++){const cg=void 0===$f[ag].material?zd(this.cache):this.getDependency("material",$f[ag].material);_f.push(cg)}return _f.push(Wf.loadGeometries($f)),Promise.all(_f).then(function(a){const b=a.slice(0,a.length-1),c=a[a.length-1],e=[];for(let f=0,g=c.length;f<g;f++){const h=c[f],i=$f[f];let j;const k=b[f];if(4===i.mode||5===i.mode||6===i.mode|| void 0===i.mode)!0!==(j=!0===Zf.isSkinnedMesh?new d.TUv(h,k):new d.Kj0(h,k)).isSkinnedMesh||j.geometry.attributes.skinWeight.normalized||j.normalizeSkinWeights(),5===i.mode?j.geometry=Wg(j.geometry,d.UlW):6===i.mode&&(j.geometry=Wg(j.geometry,d.z$h));else if(1===i.mode)j=new d.ejS(h,k);else if(3===i.mode)j=new d.x12(h,k);else if(2===i.mode)j=new d.blk(h,k);else if(0===i.mode)j=new d.woe(h,k);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+i.mode);Object.keys(j.geometry.morphAttributes).length>0&&Cd(j,Zf),j.name=Wf.createUniqueName(Zf.name||"mesh_"+Vf),Bd(j,Zf),i.extensions&&Ad(Yf,j,i),Wf.assignFinalMaterial(j),e.push(j)}for(let l=0,m=e.length;l<m;l++)Wf.associations.set(e[l],{meshes:Vf,primitives:l});if(1===e.length)return e[0];const n=new d.ZAu();Wf.associations.set(n,{meshes:Vf});for(let o=0,p=e.length;o<p;o++)n.add(e[o]);return n})}loadCamera(dg){let eg;const fg=this.json.cameras[dg],gg=fg[fg.type];if(!gg){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return"perspective"===fg.type?eg=new d.cPb(d.M8C.radToDeg(gg.yfov),gg.aspectRatio||1,gg.znear||1,gg.zfar||2e6):"orthographic"===fg.type&&(eg=new d.iKG(-gg.xmag,gg.xmag,gg.ymag,-gg.ymag,gg.znear,gg.zfar)),fg.name&&(eg.name=this.createUniqueName(fg.name)),Bd(eg,fg),Promise.resolve(eg)}loadSkin(hg){const ig=this.json.skins[hg],jg={joints:ig.joints};return void 0===ig.inverseBindMatrices?Promise.resolve(jg):this.getDependency("accessor",ig.inverseBindMatrices).then(function(a){return jg.inverseBindMatrices=a,jg})}loadAnimation(kg){const lg=this.json,mg=lg.animations[kg],ng=[],og=[],pg=[],qg=[],rg=[];for(let sg=0,tg=mg.channels.length;sg<tg;sg++){const ug=mg.channels[sg],vg=mg.samplers[ug.sampler],wg=ug.target,xg=void 0!==wg.node?wg.node:wg.id,yg=void 0!==mg.parameters?mg.parameters[vg.input]:vg.input,zg=void 0!==mg.parameters?mg.parameters[vg.output]:vg.output;ng.push(this.getDependency("node",xg)),og.push(this.getDependency("accessor",yg)),pg.push(this.getDependency("accessor",zg)),qg.push(vg),rg.push(wg)}return Promise.all([Promise.all(ng),Promise.all(og),Promise.all(pg),Promise.all(qg),Promise.all(rg)]).then(function(a){const b=a[0],c=a[1],e=a[2],f=a[3],g=a[4],h=[];for(let i=0,j=b.length;i<j;i++){const k=b[i],l=c[i],m=e[i],n=f[i],o=g[i];if(void 0===k)continue;k.updateMatrix(),k.matrixAutoUpdate=!0;let p;switch(wd[o.path]){case wd.weights:p=d.dUE;break;case wd.rotation:p=d.iLg;break;case wd.position:case wd.scale:default:p=d.yC1;break}const q=k.name?k.name:k.uuid,r=void 0!==n.interpolation?xd[n.interpolation]:d.NMF,s=[];wd[o.path]===wd.weights?k.traverse(function(a){a.morphTargetInfluences&&s.push(a.name?a.name:a.uuid)}):s.push(q);let t=m.array;if(m.normalized){const u=Fd(t.constructor),v=new Float32Array(t.length);for(let w=0,x=t.length;w<x;w++)v[w]=t[w]*u;t=v}for(let y=0,z=s.length;y<z;y++){const A=new p(s[y]+"."+wd[o.path],l.array,t,r);"CUBICSPLINE"===n.interpolation&&(A.createInterpolant=function(a){const b=this instanceof d.iLg?ld:_c;return new b(this.times,this.values,this.getValueSize()/3,a)},A.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),h.push(A)}}const B=mg.name?mg.name:"animation_"+kg;return new d.m7l(B,void 0,h)})}createNodeMesh(Ag){const Bg=this.json,Cg=this,Dg=Bg.nodes[Ag];return void 0===Dg.mesh?null:Cg.getDependency("mesh",Dg.mesh).then(function(a){const b=Cg._getNodeRef(Cg.meshCache,Dg.mesh,a);return void 0!==Dg.weights&&b.traverse(function(a){if(a.isMesh)for(let b=0,c=Dg.weights.length;b<c;b++)a.morphTargetInfluences[b]=Dg.weights[b]}),b})}loadNode(Eg){const Fg=this.json,Gg=this.extensions,Hg=this,Ig=Fg.nodes[Eg],Jg=Ig.name?Hg.createUniqueName(Ig.name):"";return(function(){const a=[],b=Hg._invokeOne(function(a){return a.createNodeMesh&&a.createNodeMesh(Eg)});return b&&a.push(b),void 0!==Ig.camera&&a.push(Hg.getDependency("camera",Ig.camera).then(function(a){return Hg._getNodeRef(Hg.cameraCache,Ig.camera,a)})),Hg._invokeAll(function(a){return a.createNodeAttachment&&a.createNodeAttachment(Eg)}).forEach(function(b){a.push(b)}),Promise.all(a)})().then(function(a){let b;if((b=!0===Ig.isBone?new d.N$j():a.length>1?new d.ZAu():1===a.length?a[0]:new d.Tme())!==a[0])for(let c=0,e=a.length;c<e;c++)b.add(a[c]);if(Ig.name&&(b.userData.name=Ig.name,b.name=Jg),Bd(b,Ig),Ig.extensions&&Ad(Gg,b,Ig),void 0!==Ig.matrix){const f=new d.yGw();f.fromArray(Ig.matrix),b.applyMatrix4(f)}else void 0!==Ig.translation&&b.position.fromArray(Ig.translation),void 0!==Ig.rotation&&b.quaternion.fromArray(Ig.rotation),void 0!==Ig.scale&&b.scale.fromArray(Ig.scale);return Hg.associations.has(b)||Hg.associations.set(b,{}),Hg.associations.get(b).nodes=Eg,b})}loadScene(Kg){const Lg=this.json,Mg=this.extensions,Ng=this.json.scenes[Kg],Og=this,Pg=new d.ZAu();Ng.name&&(Pg.name=Og.createUniqueName(Ng.name)),Bd(Pg,Ng),Ng.extensions&&Ad(Mg,Pg,Ng);const Qg=Ng.nodes||[],Rg=[];for(let Sg=0,Tg=Qg.length;Sg<Tg;Sg++)Rg.push(Ug(Qg[Sg],Pg,Lg,Og));return Promise.all(Rg).then(function(){return Og.associations=(a=>{const b=new Map();for(const[c,e]of Og.associations)(c instanceof d.F5T||c instanceof d.xEZ)&&b.set(c,e);return a.traverse(a=>{const c=Og.associations.get(a);null!=c&&b.set(a,c)}),b})(Pg),Pg})}}function Ug(a,b,c,e){const f=c.nodes[a];return e.getDependency("node",a).then(function(a){if(void 0===f.skin)return a;let b;return e.getDependency("skin",f.skin).then(function(a){b=a;const c=[];for(let d=0,f=b.joints.length;d<f;d++)c.push(e.getDependency("node",b.joints[d]));return Promise.all(c)}).then(function(c){return a.traverse(function(a){if(!a.isMesh)return;const e=[],f=[];for(let g=0,h=c.length;g<h;g++){const i=c[g];if(i){e.push(i);const j=new d.yGw();void 0!==b.inverseBindMatrices&&j.fromArray(b.inverseBindMatrices.array,16*g),f.push(j)}else console.warn("THREE.GLTFLoader: Joint \"%s\" could not be found.",b.joints[g])}a.bind(new d.OdW(e,f),a.matrixWorld)}),a})}).then(function(a){b.add(a);const d=[];if(f.children){const g=f.children;for(let h=0,i=g.length;h<i;h++){const j=g[h];d.push(Ug(j,a,c,e))}}return Promise.all(d)})}function Vg(a,b,c){const e=b.attributes,f=[];function g(b,d){return c.getDependency("accessor",b).then(function(b){a.setAttribute(d,b)})}for(const h in e){const i=vd[h]||h.toLowerCase();i in a.attributes||f.push(g(e[h],i))}if(void 0!==b.indices&&!a.index){const j=c.getDependency("accessor",b.indices).then(function(b){a.setIndex(b)});f.push(j)}return Bd(a,b),!function(a,b,c){const e=b.attributes,f=new d.ZzF();if(void 0===e.POSITION)return;{const g=c.json.accessors[e.POSITION],h=g.min,i=g.max;if(void 0!==h&& void 0!==i){if(f.set(new d.Pa4(h[0],h[1],h[2]),new d.Pa4(i[0],i[1],i[2])),g.normalized){const j=Fd(rd[g.componentType]);f.min.multiplyScalar(j),f.max.multiplyScalar(j)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}const k=b.targets;if(void 0!==k){const l=new d.Pa4(),m=new d.Pa4();for(let n=0,o=k.length;n<o;n++){const p=k[n];if(void 0!==p.POSITION){const q=c.json.accessors[p.POSITION],r=q.min,s=q.max;if(void 0!==r&& void 0!==s){if(m.setX(Math.max(Math.abs(r[0]),Math.abs(s[0]))),m.setY(Math.max(Math.abs(r[1]),Math.abs(s[1]))),m.setZ(Math.max(Math.abs(r[2]),Math.abs(s[2]))),q.normalized){const t=Fd(rd[q.componentType]);m.multiplyScalar(t)}l.max(m)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}f.expandByVector(l)}a.boundingBox=f;const u=new d.aLr();f.getCenter(u.center),u.radius=f.min.distanceTo(f.max)/2,a.boundingSphere=u}(a,b,c),Promise.all(f).then(function(){return void 0!==b.targets?(function(a,b,c){let d=!1,e=!1;for(let f=0,g=b.length;f<g;f++){const h=b[f];if(void 0!==h.POSITION&&(d=!0),void 0!==h.NORMAL&&(e=!0),d&&e)break}if(!d&&!e)return Promise.resolve(a);const i=[],j=[];for(let k=0,l=b.length;k<l;k++){const m=b[k];if(d){const n=void 0!==m.POSITION?c.getDependency("accessor",m.POSITION):a.attributes.position;i.push(n)}if(e){const o=void 0!==m.NORMAL?c.getDependency("accessor",m.NORMAL):a.attributes.normal;j.push(o)}}return Promise.all([Promise.all(i),Promise.all(j)]).then(function(b){const c=b[0],f=b[1];return d&&(a.morphAttributes.position=c),e&&(a.morphAttributes.normal=f),a.morphTargetsRelative=!0,a})})(a,b.targets,c):a})}function Wg(a,b){let c=a.getIndex();if(null===c){const e=[],f=a.getAttribute("position");if(void 0===f)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),a;for(let g=0;g<f.count;g++)e.push(g);a.setIndex(e),c=a.getIndex()}const h=c.count-2,i=[];if(b===d.z$h)for(let j=1;j<=h;j++)i.push(c.getX(0)),i.push(c.getX(j)),i.push(c.getX(j+1));else for(let k=0;k<h;k++)k%2==0?(i.push(c.getX(k)),i.push(c.getX(k+1)),i.push(c.getX(k+2))):(i.push(c.getX(k+2)),i.push(c.getX(k+1)),i.push(c.getX(k)));i.length/3!==h&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const l=a.clone();return l.setIndex(i),l}}}])